<!DOCTYPE html>
<html lang="fr">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>ft_transcendance</title>
	<link rel="stylesheet" href="/styles.css">
	<link href="https://fonts.googleapis.com/css2?family=Mochiy+Pop+P+One&display=swap" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css2?family=Mochiy+Pop+P+One&family=Klee+One&display=swap" rel="stylesheet">
</head>
<body>
	<div class="top-buttons">
		<select id="languageSelect">
			<option value="fr">🇫🇷 Français</option>
			<option value="en">🇬🇧 English</option>
			<option value="es">🇪🇸 Español</option>
		</select>
		<button id="authButton" class="auth-button" data-i18n="authButton"></button>
		<button id="menuButton" class="menu-button" style="display: none;">☰</button>
	</div>
	<div id="authPage" style="display: none; text-align: center; margin-top: 15px;">
		<div class="auth-content">
			<h1 data-i18n="loginTitle"></h1>
			<form id="loginForm">
				<input type="text" id="loginIdentifier" data-i18n-placeholder="loginPlaceholder" required>
				<input type="password" id="loginPassword" data-i18n-placeholder="passwordPlaceholder" required>
				<p id="loginMessage" class="auth-message"></p>
				<button type="submit" data-i18n="login"></button>
			</form>
			<form id="registerForm">
				<input type="text" id="regUsername" data-i18n-placeholder="registerUsername" required>
				<input type="email" id="regEmail" data-i18n-placeholder="registerEmail" required>
				<input type="password" id="regPassword" data-i18n-placeholder="registerPassword" required>
				<p id="registerMessage" class="auth-message"></p>
				<button type="submit" data-i18n="register"></button>
			</form>
		</div>
	</div>
	<div id="menuDropdown" class="menu-dropdown">
		<a href="#" data-action="profile" data-i18n="menuProfile"></a>
		<a href="#" data-action="history" data-i18n="menuHistory"></a>
		<a href="#" data-action="statistics" data-i18n="menuStats"></a>
		<a href="#" data-action="howToPlay" data-i18n="menuHowToPlay"></a>
		<a href="#" data-action="privacyData" data-i18n="menuPrivacy"></a>
		<a href="#" id="logoutButton" style="display: none;" data-i18n="logout"></a>
	</div>
	<!-- 📌 fenetre modale du Profil caché-->
	<div id="profileModal" class="modal">
		<div class="modal-content profile-modal">
			<span class="close">&times;</span>
			<h1 class="text-outline" data-i18n="profileTitle"></h1>
			<div class="profile-avatar">
				<img id="userAvatar" src="/avatars/default.png" alt="Avatar">
				<input type="file" id="avatarInput">
				<button id="uploadAvatarBtn" data-i18n="changeAvatar"></button>
			</div>
			<form id="profileForm">
				<div class="form-group">
					<label for="newUsername" data-i18n="labelUsername"></label>
					<input type="text" id="newUsername">
				</div>
				<div class="form-group">
					<label for="newEmail" data-i18n="labelEmail"></label>
					<input type="email" id="newEmail">
				</div>
				<div class="form-group">
					<label for="newPassword" data-i18n="labelNewPassword"></label>
					<input type="password" id="oldPassword" data-i18n-placeholder="oldPasswordPlaceholder">
					<input type="password" id="newPassword" data-i18n-placeholder="newPasswordPlaceholder">
				</div>
				<h3 data-i18n="friendsTitle"></h3>
				<ul id="friendList"></ul>
				<h3 data-i18n="addFriend"></h3>
				<div class="friend-search-container">
					<input type="text" id="friendSearchInput" data-i18n-placeholder="friendSearchPlaceholder">
					<button id="friendSearchBtn" data-i18n="searchFriend"></button>
				</div>
				<ul id="friendSearchResults"></ul>
				<button type="submit" id="saveChangesBtn" data-i18n="saveChanges"></button>
				<p id="profileMessage" class="profile-message"></p>
			</form>
		</div>
	</div>
	<!-- Fenêtre modale historique cachée -->
	<div id="historyModal" class="modal">
		<div class="modal-content">
			<span class="close">&times;</span>
			<h1 class="text-outline" data-i18n="historyTitle"></h1>
			<div class="history-container">
				<ul id="gameHistoryList"></ul>
			</div>
		</div>
	</div>
	<!-- Fenêtre modale statistiques cachée -->
	<div id="statsModal" class="modal">
		<div class="modal-content">
			<span class="close">&times;</span>
			<h1 class="text-outline" data-i18n="statsTitle"></h1>
			<div class="stats-container">
				<div class="stats-text">
					<p><span data-i18n="totalGames"></span> <span id="totalGames">0</span></p>
					<p><span data-i18n="wins"></span> <span id="wins">0</span></p>
					<p><span data-i18n="losses"></span> <span id="losses">0</span></p>
					<p><span data-i18n="winRate"></span> <span id="winRate">0.00%</span></p>
				</div>
				<div class="stats-chart-container">
					<canvas id="statsChart"></canvas> <!-- Graphique avec chart.js -->
				</div>
			</div>
		</div>
	</div>
	<!-- Fenêtre modale Comment jouer? cachée -->
	<div id="howToPlayModal" class="modal">
		<div class="modal-content">
			<span class="close">&times;</span>
			<h1 class="text-outline" data-i18n="howToPlayTitle"></h1>
			<p data-i18n="playerLeftControls"></p>
			<p data-i18n="playerRightControls"></p>
			<p data-i18n="aiMode"></p>
		</div>
	</div>
	<!-- 📌 MODALE "PRIVACY & DATA" -->
	<div id="privacyModal" class="modal">
		<div class="modal-content privacy-modal">
			<span class="close">&times;</span>
			<h1 class="text-outline" data-i18n="privacyTitle"></h1>
			<p data-i18n="privacyDescription"></p>
			<h3 data-i18n="exportData"></h3>
			<p data-i18n="exportDataDesc"></p>
			<h3 data-i18n="anonymization"></h3>
			<p data-i18n="anonymizationDesc"></p>
			<h3 data-i18n="deleteAccountTitle"></h3>
			<p data-i18n="deleteAccountDescription"></p>
			<!-- 📥 Télécharger ses données -->
			<button id="exportDataBtn" data-i18n="exportDataBtn"></button>
			<p id="exportMessage" style="display: none;"></p>

			<!-- 🕵️‍♂️ Anonymiser son compte -->
			<button id="anonymizeBtn" data-i18n="anonymizeBtn"></button>
			<p id="anonymizeMessage" style="display: none;"></p>

			<!-- ❌ Supprimer le compte -->
			<button id="deleteAccountBtn" class="danger" data-i18n="deleteAccountBtn"></button>
			<p id="deleteMessage" style="display: none;"></p>
		</div>
	</div>
	<!-- Home button -->
	<button id="homeButton" class="home-button" style="visibility: hidden;">
		<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#333" width="32px" height="32px">
			<path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
		</svg>
	</button>
	<!-- Menu -->
	<div id="menu">
		<h1>Cat Pong Game</h1>
		<button id="playVsGuest" style="display: none;" data-i18n="game1v1"></button>
		<button id="playVsAI" style="display: none;" data-i18n="gameVsAI"></button>
		<button id="tournament" style="display: none;" data-i18n="gameTournament"></button>
	</div>
	<!--tournament Options -->
	<div id="tournamentOptions" style="display: none; text-align: center; margin-top: 15px;">
		<h1 data-i18n="tournamentChoice"></h1>
		<button id="tournament4" class="tournament-btn" data-i18n="tournament4"></button>
		<button id="tournament8" class="tournament-btn" data-i18n="tournament8"></button>
	</div>
	<div id="playerInputs" style="display: none; text-align: center; margin-top: 15px;">
		<h1 data-i18n="enterPlayerNames"></h1>
		<form id="playersForm">
			<div id="inputsContainer"></div>
			<button type="submit" data-i18n="startTournament"></button>
		</form>
	</div>
	<!-- Jeu -->
	<div id="game">
		<!-- Noms des joueurs -->
		<div id="playerNames">
			<span id="leftPlayerName"></span><span id="rightPlayerName"></span>
		</div>
		<canvas id="gameCanvas" width="900" height="600"></canvas>
		<!-- <canvas id="gameCanvas" width="600" height="400"></canvas> -->
	</div>
	<div id="endScreen">
		<h1 id="winnerMessage"></h1>
		<p id="currentMatchInfo"></p>
		<p id="nextMatchInfo"></p>
		<button id="replayButton" data-i18n="replayButton"></button>
		<button id="returnMenu" data-i18n="returnMenu"></button>
		<button id="nextMatchButton" style="display: none;" data-i18n="nextMatchButton"></button>
	</div>
	<script type="module" src="./src/main3D.ts"></script>
</body>
</html>