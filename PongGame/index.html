<!DOCTYPE html>
<html lang="fr">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>ft_transcendance</title>
	<link rel="stylesheet" href="/styles.css">
	<link href="https://fonts.googleapis.com/css2?family=Mochiy+Pop+P+One&display=swap" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css2?family=Mochiy+Pop+P+One&family=Klee+One&display=swap" rel="stylesheet">
</head>
<body>
	<div class="top-buttons">
		<button id="authButton" class="auth-button">Connexion / Inscription</button>
		<button id="menuButton" class="menu-button" style="display: none;">â˜°</button>
	</div>
	<div id="authPage" style="display: none; text-align: center; margin-top: 15px;">
		<div class="auth-content">
			<h1>Connexion / Inscription</h1>
			<form id="loginForm">
				<input type="text" id="loginIdentifier" placeholder="Email ou Nom d'utilisateur" required>
				<input type="password" id="loginPassword" placeholder="Mot de passe" required>
				<p id="loginMessage" class="auth-message"></p>
				<button type="submit">Se connecter</button>
			</form>
			<form id="registerForm">
				<input type="text" id="regUsername" placeholder="Nom d'utilisateur" required>
				<input type="email" id="regEmail" placeholder="Email" required>
				<input type="password" id="regPassword" placeholder="Mot de passe" required>
				<p id="registerMessage" class="auth-message"></p>
				<button type="submit">S'inscrire</button>
			</form>
		</div>
	</div>
	<div id="menuDropdown" class="menu-dropdown">
		<a href="#" data-action="profile">Profil</a>
		<a href="#" data-action="history">Historiques</a>
		<a href="#" data-action="statistics">Statistiques</a>
		<a href="#" data-action="howToPlay">Comment jouer ?</a>
		<a href="#" data-action="privacyData">ConfidentialitÃ© & DonnÃ©es</a>
		<a href="#" id="logoutButton" style="display: none;">DÃ©connexion</a>
	</div>
	<!-- ğŸ“Œ fenetre modale du Profil cachÃ©-->
	<div id="profileModal" class="modal">
		<div class="modal-content profile-modal">
			<span class="close">&times;</span>
			<h1 class="text-outline">ğŸ‘¤ Mon Profil</h1>
			<div class="profile-avatar">
				<img id="userAvatar" src="/avatars/default.png" alt="Avatar">
				<input type="file" id="avatarInput">
				<button id="uploadAvatarBtn">ğŸ“¤ Changer l'avatar</button>
			</div>
			<form id="profileForm">
				<div class="form-group">
					<label for="newUsername">âœï¸ Pseudo :</label>
					<input type="text" id="newUsername">
				</div>
				<div class="form-group">
					<label for="newEmail">ğŸ“§ Email :</label>
					<input type="email" id="newEmail">
				</div>
				<div class="form-group">
					<label for="newPassword">ğŸ”’ Nouveau mot de passe :</label>
					<input type="password" id="oldPassword" placeholder="Ancien mot de passe">
					<input type="password" id="newPassword" placeholder="Nouveau mot de passe">
				</div>
				<h3>ğŸ‘¥ Amis :</h3>
				<ul id="friendList"></ul>
				<h3>Ajouter un ami :</h3>
				<div class="friend-search-container">
					<input type="text" id="friendSearchInput" placeholder="Pseudo ou email">
					<button id="friendSearchBtn">ğŸ” Rechercher</button>
				</div>
				<ul id="friendSearchResults"></ul>
				<button type="submit" id="saveChangesBtn">âœ… Sauvegarder les changements</button>
				<p id="profileMessage" class="profile-message"></p>
			</form>
		</div>
	</div>
	<!-- FenÃªtre modale historique cachÃ©e -->
	<div id="historyModal" class="modal">
		<div class="modal-content">
			<span class="close">&times;</span>
			<h1 class="text-outline">ğŸ“œ Historique des parties</h1>
			<div class="history-container">
				<ul id="gameHistoryList"></ul>
			</div>
		</div>
	</div>
	<!-- FenÃªtre modale statistiques cachÃ©e -->
	<div id="statsModal" class="modal">
		<div class="modal-content">
			<span class="close">&times;</span>
			<h1 class="text-outline">ğŸ“Š Statistiques du joueur</h1>
			<div class="stats-container">
				<div class="stats-text">
					<p>ğŸ•¹ï¸ Total de parties : <span id="totalGames">0</span></p>
					<p>ğŸ† Victoires : <span id="wins">0</span></p>
					<p>âŒ DÃ©faites : <span id="losses">0</span></p>
					<p>ğŸ”¥ Taux de victoire : <span id="winRate">0.00</span></p>
				</div>
				<div class="stats-chart-container">
					<canvas id="statsChart"></canvas> <!-- Graphique avec chart.js -->
				</div>
			</div>
		</div>
	</div>
	<!-- FenÃªtre modale Comment jouer? cachÃ©e -->
	<div id="howToPlayModal" class="modal">
		<div class="modal-content">
			<span class="close">&times;</span>
			<h1 class="text-outline">ğŸ® Comment jouer ?</h1>
			<p>Joueur de gauche :    W (haut) / S (bas)</p>
			<p>Joueur de droite :    â†‘ (haut) / â†“ (bas)</p>
			<p>Mode IA :  L'ordinateur joue automatiquement le joueur de droite</p>
		</div>
	</div>
	<!-- ğŸ“Œ MODALE "PRIVACY & DATA" -->
	<div id="privacyModal" class="modal">
		<div class="modal-content privacy-modal">
			<span class="close">&times;</span>
			<h1 class="text-outline">ğŸ” Privacy & Data Management</h1>
			<p>
				ConformÃ©ment au RÃ¨glement GÃ©nÃ©ral sur la Protection des DonnÃ©es (RGPD), vous avez plusieurs droits concernant vos donnÃ©es personnelles. 
				Vous pouvez tÃ©lÃ©charger une copie de vos donnÃ©es, anonymiser votre compte ou supprimer dÃ©finitivement votre compte et toutes vos informations associÃ©es.
			</p>
			<h3>ğŸ“¥ TÃ©lÃ©charger mes donnÃ©es</h3>
			<p>
				Vous pouvez rÃ©cupÃ©rer toutes les informations liÃ©es Ã  votre compte en tÃ©lÃ©chargeant un fichier contenant vos donnÃ©es personnelles.
			</p>
			<h3>ğŸ•µï¸â€â™‚ï¸ Anonymisation du compte</h3>
			<p>
				Si vous souhaitez conserver votre compte mais supprimer vos informations personnelles, vous pouvez choisir d'anonymiser votre compte.
				Cette action remplacera vos donnÃ©es personnelles par des valeurs anonymes (par exemple, votre nom sera remplacÃ© par "Utilisateur Anonyme").
			</p>
			<h3>âŒ Suppression du compte</h3>
			<p>
				La suppression du compte est une action irrÃ©versible. Toutes vos donnÃ©es personnelles, y compris votre historique et vos prÃ©fÃ©rences, 
				seront supprimÃ©es dÃ©finitivement de notre systÃ¨me.
			</p>
			<!-- ğŸ“¥ TÃ©lÃ©charger ses donnÃ©es -->
			<button id="exportDataBtn">ğŸ“¥ TÃ©lÃ©charger mes donnÃ©es</button>
			<p id="exportMessage" style="display: none;"></p>

			<!-- ğŸ•µï¸â€â™‚ï¸ Anonymiser son compte -->
			<button id="anonymizeBtn">ğŸ•µï¸â€â™‚ï¸ Anonymiser mon compte</button>
			<p id="anonymizeMessage" style="display: none;"></p>

			<!-- âŒ Supprimer le compte -->
			<button id="deleteAccountBtn" class="danger">âš ï¸ Supprimer mon compte</button>
			<p id="deleteMessage" style="display: none;"></p>
		</div>
	</div>
	<!-- Home button -->
	<button id="homeButton" class="home-button" style="visibility: hidden;">
		<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#333" width="32px" height="32px">
			<path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
		</svg>
	</button>
	<!-- Menu -->
	<div id="menu">
		<h1>Cat Pong Game</h1>
		<!-- <button id="startButton">DÃ©marrer le jeu</button> -->
		<button id="startButton" style="display: none;">1 vs 1</button>
		<button id="playVsAI" style="display: none;">1 vs IA</button>
		<button id="tournament" style="display: none;">Tournoi</button>
	</div>
	<!--tournament Options -->
	<div id="tournamentOptions" style="display: none; text-align: center; margin-top: 15px;">
		<h1>Choisissez le nombre de joueurs :</h1>
		<button id="tournament4" class="tournament-btn">4 joueurs</button>
		<button id="tournament8" class="tournament-btn">8 joueurs</button>
	</div>
	<div id="playerInputs" style="display: none; text-align: center; margin-top: 15px;">
		<h1>Entrez les pseudos des joueurs :</h1>
		<form id="playersForm">
			<div id="inputsContainer"></div>
			<button type="submit">Lancer le tournoi</button>
		</form>
	</div>
	<!-- Jeu -->
	<div id="game">
		<!-- Noms des joueurs -->
		<div id="playerNames">
			<span id="leftPlayerName"></span><span id="rightPlayerName"></span>
		</div>
		<canvas id="gameCanvas" width="900" height="600"></canvas>
		<!-- <canvas id="gameCanvas" width="600" height="400"></canvas> -->
	</div>
	<script type="module" src="./src/main3D.ts"></script>
	<div id="endScreen">
		<h1 id="winnerMessage"></h1>
		<p id="currentMatchInfo"></p>
		<p id="nextMatchInfo"></p>
		<button id="replayButton">Rejouer</button>
		<button id="returnMenu">Retour au menu</button>
		<button id="nextMatchButton" style="display: none;">Match suivant</button>
	</div>
</body>
</html>